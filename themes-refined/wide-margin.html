<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>keeb.dev — wide-margin</title>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  html { font-size: 19px; }

  body {
    background: #1d1f21;
    color: #c9cacc;
    font-family: 'Menlo', 'Meslo LG', 'Courier New', monospace;
    line-height: 2.1;
    padding: 0 10%;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
  }

  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.04) 2px,
      rgba(0, 0, 0, 0.04) 4px
    );
    pointer-events: none;
    z-index: 9999;
  }

  ::selection { background: rgba(212, 128, 170, 0.25); color: #fff; }
  ::-moz-selection { background: rgba(212, 128, 170, 0.25); color: #fff; }

  /* ── Wave & Blink ── */
  @keyframes wave-animation {
    0%, 30%, 100% { color: #c9cacc; }
    5% { background: linear-gradient(90deg, #d480aa -20%, #d480aa 0%, #c9cacc 15%, #c9cacc 100%); -webkit-background-clip: text; background-clip: text; color: transparent; }
    10% { background: linear-gradient(90deg, #c9cacc 0%, #d480aa 10%, #d480aa 25%, #c9cacc 40%, #c9cacc 100%); -webkit-background-clip: text; background-clip: text; color: transparent; }
    15% { background: linear-gradient(90deg, #c9cacc 0%, #c9cacc 20%, #d480aa 35%, #d480aa 50%, #c9cacc 65%, #c9cacc 100%); -webkit-background-clip: text; background-clip: text; color: transparent; }
    20% { background: linear-gradient(90deg, #c9cacc 0%, #c9cacc 45%, #d480aa 60%, #d480aa 75%, #c9cacc 90%, #c9cacc 100%); -webkit-background-clip: text; background-clip: text; color: transparent; }
    25% { background: linear-gradient(90deg, #c9cacc 0%, #c9cacc 70%, #d480aa 85%, #d480aa 100%); -webkit-background-clip: text; background-clip: text; color: transparent; }
  }

  @keyframes blink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }

  /* ── ASCII Header ── */
  .ascii-header {
    text-align: center;
    padding: 3rem 0 2.5rem;
    overflow-x: auto;
  }

  .ascii-header pre {
    display: inline-block;
    font-family: 'Menlo', 'Meslo LG', 'Courier New', monospace;
    font-size: clamp(0.5rem, 1.5vw, 1.1rem);
    line-height: 1.3;
    color: #d5a1aa;
    animation: wave-animation 8s ease-in-out infinite;
    white-space: pre;
    text-align: left;
  }

  .ascii-cursor {
    color: #d480aa;
    animation: blink 1s step-end infinite;
  }

  /* ── Avatar + Nav ── */
  .nav-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 5rem;
  }

  .avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 2px solid #d480aa33;
    margin-bottom: 1.2rem;
    transition: border-color 0.3s ease;
    object-fit: cover;
  }

  .avatar:hover {
    border-color: #d480aa;
  }

  .nav-links {
    display: flex;
    align-items: center;
    gap: 0;
    flex-wrap: wrap;
    justify-content: center;
  }

  .nav-links a {
    color: #d480aa;
    text-decoration: none;
    padding: 0 0.8rem;
    transition: color 0.2s ease;
  }

  .nav-links a:hover { color: #fff; }

  .nav-sep {
    color: #908d8d;
    margin: 0 0.15rem;
    user-select: none;
  }

  /* ── Two-Column Layout ── */
  .columns {
    display: flex;
    gap: 3rem;
    align-items: flex-start;
  }

  .col-left {
    flex: 0 0 30%;
    position: sticky;
    top: 2rem;
    max-height: calc(100vh - 4rem);
    overflow-y: auto;
    padding-right: 1rem;
    padding-bottom: 3rem;
  }

  /* thin scrollbar for sidebar */
  .col-left::-webkit-scrollbar { width: 4px; }
  .col-left::-webkit-scrollbar-track { background: transparent; }
  .col-left::-webkit-scrollbar-thumb { background: #d480aa33; border-radius: 2px; }
  .col-left::-webkit-scrollbar-thumb:hover { background: #d480aa66; }
  .col-left { scrollbar-width: thin; scrollbar-color: #d480aa33 transparent; }

  .col-right {
    flex: 0 0 70%;
    min-width: 0;
    padding-bottom: 6rem;
  }

  /* ── File Tree ── */
  .tree {
    font-family: 'Menlo', 'Meslo LG', 'Courier New', monospace;
    font-size: 0.84rem;
    line-height: 1.9;
    color: #908d8d;
    white-space: pre;
  }

  .tree-dir {
    color: #d5a1aa;
    font-weight: bold;
  }

  .tree-file {
    color: #c9cacc;
  }

  .tree-link {
    color: #c9cacc;
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .tree-link:hover { color: #d480aa; }
  .tree-link.active { color: #d480aa; }

  .tree-date {
    color: #908d8d;
    font-size: 0.78rem;
    opacity: 0.7;
    margin-left: 1ch;
  }

  /* ── Article ── */
  .article-title {
    color: #fff;
    font-size: 1.6rem;
    font-weight: bold;
    margin-bottom: 0.6rem;
    line-height: 1.5;
  }

  .article-meta {
    color: #908d8d;
    font-size: 0.85rem;
    margin-bottom: 3rem;
  }

  .article-body p {
    margin-bottom: 2.2rem;
  }

  .article-body h2 {
    color: #fff;
    font-size: 1.2rem;
    margin-top: 3rem;
    margin-bottom: 1.4rem;
  }

  .article-body a {
    color: #d480aa;
    text-decoration: none;
    border-bottom: 1px solid #d480aa33;
    transition: border-color 0.2s ease, color 0.2s ease;
  }

  .article-body a:hover {
    color: #fff;
    border-color: #fff;
  }

  .article-body code {
    background: rgba(212, 128, 170, 0.08);
    color: #d5a1aa;
    padding: 0.15em 0.4em;
    border-radius: 3px;
    font-size: 0.9em;
  }

  .article-body strong {
    color: #fff;
    font-weight: bold;
  }

  .article-body blockquote {
    border-left: 3px solid #d480aa44;
    padding: 0.8rem 1.5rem;
    margin: 2.2rem 0;
    color: #ccffb6;
    font-style: italic;
  }

  .article-body blockquote p {
    margin-bottom: 0;
  }

  /* ── Responsive ── */
  @media (max-width: 768px) {
    body { padding: 0 5%; }

    .columns {
      flex-direction: column;
    }

    .col-left {
      flex: none;
      width: 100%;
      position: static;
      max-height: none;
      overflow-y: visible;
      padding-right: 0;
      margin-bottom: 2rem;
      padding-bottom: 0;
    }

    .col-right {
      flex: none;
      width: 100%;
    }

    .ascii-header pre {
      font-size: clamp(0.35rem, 2.5vw, 0.8rem);
    }
  }
</style>
</head>
<body>

<!-- ── ASCII Header ── -->
<div class="ascii-header">
<pre>
      ..                                  ..              ..                     _
&lt; .z@8"`                            . uW8"              dF                      u
 !@88E                              `t888              '88bu.                  88Nu.   u.
 '888E   u         .u         .u     8888   .          '*88888bu        .u    '88888.o888c
  888E u@8NL    ud8888.    ud8888.   9888.z88N           ^"*8888N    ud8888.   ^8888  8888
  888E`"88*"  :888'8888. :888'8888.  9888  888E         beWE "888L :888'8888.   8888  8888
  888E .dN.   d888 '88%" d888 '88%"  9888  888E         888E  888E d888 '88%"   8888  8888
  888E~8888   8888.+"    8888.+"     9888  888E         888E  888E 8888.+"      8888  8888
  888E '888&amp;  8888L      8888L       9888  888E    .    888E  888F 8888L       .8888b.888P
  888E  9888. '8888c. .+ '8888c. .+ .8888  888"  .@8c  .888N..888  '8888c. .+   ^Y8888*""
'"888*" 4888"  "88888%    "88888%    `%888*%"   '%888"  `"888*""    "88888%       `Y"
   ""    ""      "YP'       "YP'        "`        ^*       ""         "YP'
</pre><span class="ascii-cursor">&#9608;</span>
</div>

<!-- ── Avatar + Nav ── -->
<div class="nav-bar">
  <img class="avatar" src="avatar.webp" alt="avatar">
  <nav class="nav-links">
    <a href="#">home</a>
    <span class="nav-sep">|</span>
    <a href="#">writing</a>
    <span class="nav-sep">|</span>
    <a href="#">about</a>
    <span class="nav-sep">|</span>
    <a href="#">github</a>
  </nav>
</div>

<!-- ── Two-Column Layout ── -->
<div class="columns">

  <!-- Left Column: File Tree -->
  <aside class="col-left">
<pre class="tree">
<span class="tree-dir">keeb.dev/</span>
&#9500;&#9472;&#9472; <a href="#" class="tree-link">about.md</a>
&#9500;&#9472;&#9472; <span class="tree-file">avatar.webp</span>
&#9492;&#9472;&#9472; <span class="tree-dir">writing/</span>
    &#9500;&#9472;&#9472; <span class="tree-dir">2022/</span>
    &#9474;   &#9500;&#9472;&#9472; <a href="#" class="tree-link">the-lore.md</a><span class="tree-date">2022-03-14</span>
    &#9474;   &#9500;&#9472;&#9472; <a href="#" class="tree-link active">hexo-and-vscode.md</a><span class="tree-date">2022-05-28</span>
    &#9474;   &#9492;&#9472;&#9472; <a href="#" class="tree-link">i-made-a-keylogger.md</a><span class="tree-date">2022-08-10</span>
    &#9500;&#9472;&#9472; <span class="tree-dir">2023/</span>
    &#9474;   &#9492;&#9472;&#9472; <a href="#" class="tree-link">virtualization-from-scratch.md</a><span class="tree-date">2023-11-02</span>
    &#9500;&#9472;&#9472; <span class="tree-dir">2025/</span>
    &#9474;   &#9500;&#9472;&#9472; <a href="#" class="tree-link">terraform-with-glitter.md</a><span class="tree-date">2025-01-15</span>
    &#9474;   &#9500;&#9472;&#9472; <a href="#" class="tree-link">ai-is-great-at-parsing.md</a><span class="tree-date">2025-03-22</span>
    &#9474;   &#9492;&#9472;&#9472; <a href="#" class="tree-link">claude-sonnet-4.5-system-initiative.md</a><span class="tree-date">2025-06-01</span>
    &#9492;&#9472;&#9472; <span class="tree-dir">2026/</span>
        &#9500;&#9472;&#9472; <a href="#" class="tree-link">ai-native-infrastructure.md</a><span class="tree-date">2026-01-08</span>
        &#9492;&#9472;&#9472; <a href="#" class="tree-link">mcp-is-dead.md</a><span class="tree-date">2026-01-29</span>
</pre>
  </aside>

  <!-- Right Column: Article Content -->
  <main class="col-right">
    <h1 class="article-title">Hexo &amp; VSCode: Asset Management That Doesn't Make You Cry</h1>
    <div class="article-meta">2022-05-28 &mdash; keeb</div>

    <div class="article-body">
      <p>
        When I first set up this site with <a href="https://hexo.io">Hexo</a>, I had a naive assumption that dropping images into a folder and referencing them in Markdown would just work. Static site generators are supposed to be simple, right? You write Markdown, you run a build command, and HTML appears on the other end. In practice, Hexo's asset pipeline has a few sharp edges that will cut you if you're not paying attention. The core issue is that Hexo supports two distinct modes for handling post assets: a global <code>source/images</code> directory, and per-post asset folders that live alongside each <code>.md</code> file. Choosing the wrong one early on creates a mess that compounds with every new post you write.
      </p>

      <p>
        The per-post asset folder approach is the one I settled on. You enable it in <code>_config.yml</code> with <code>post_asset_folder: true</code>, and from that point forward, every time you run <code>hexo new</code>, Hexo creates both a <code>.md</code> file and a matching directory with the same slug. Screenshots, diagrams, and any other media go into that directory. The problem is that <strong>standard Markdown image syntax doesn't resolve these paths correctly</strong> during the build. You end up with broken images in the generated HTML because Hexo's renderer doesn't know to look in the asset folder unless you use its proprietary <code>{% asset_img %}</code> tag. That tag works, but it means your Markdown is no longer portable -- open the same file in a GitHub preview or any other renderer and you get nothing.
      </p>

      <blockquote>
        <p>The best tooling is the kind that stays out of your way. If your static site generator forces you to choose between portable Markdown and working images, something has gone wrong in the design.</p>
      </blockquote>

      <h2>Enter hexo-asset-link</h2>

      <p>
        The <a href="https://github.com/liolok/hexo-asset-link">hexo-asset-link</a> plugin solves this cleanly. It patches the Markdown renderer so that standard relative image paths like <code>![screenshot](hexo-and-vscode/terminal.png)</code> resolve correctly against the post's asset folder. No proprietary tags, no broken previews. Your Markdown files remain valid everywhere -- in VSCode's built-in preview, on GitHub, and in the final Hexo build. I installed it with a single <code>npm install hexo-asset-link --save</code> and didn't have to touch another configuration file. This is the kind of plugin that should arguably be part of Hexo's core, but the ecosystem has always favored small composable packages over batteries-included defaults.
      </p>

      <p>
        On the VSCode side, I've leaned heavily into a few extensions that make the writing workflow almost frictionless. <strong>Markdown All in One</strong> handles keyboard shortcuts, table formatting, and auto-completion of links. <a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one">The extension</a> also gives you a live table-of-contents generator that updates as you type, which is useful for longer technical posts. I pair it with <strong>Paste Image</strong>, which intercepts clipboard paste events and automatically saves the image into the current post's asset folder with a timestamped filename. The combination means I can take a screenshot, hit <code>Ctrl+Alt+V</code> in VSCode, and the image is saved, named, and linked in one keystroke. No more alt-tabbing to a file manager, no more manually writing out paths.
      </p>

      <p>
        The last piece of the puzzle is the Docker-based preview. I run <code>docker-compose --profile serve up</code> which starts Hexo's development server on port 4000 with live reload. The container mounts the source directory as a volume, so every save in VSCode triggers a rebuild. The entire feedback loop -- write, paste an image, save, see the result in the browser -- takes about two seconds. It's not instant, but it's fast enough that the writing stays in flow. For a statically generated site running inside a container, I'll take it. The whole setup is version-controlled, reproducible, and doesn't require installing Node.js or any Hexo dependencies on the host machine. That was the goal from the start: a writing environment that treats the blog like infrastructure, not a craft project.
      </p>
    </div>
  </main>

</div>

</body>
</html>
